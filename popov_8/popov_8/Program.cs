using System;

class Program
{
    static void Main(string[] args)
    {
        // Переменные
        int n;                 // количество членов ряда (n > 1)
        double c = 0.0;        // сумма ряда
        double fact = 1.0;     // текущее значение факториала (k!)

        for (; ; )
        {
            Console.Write("Введите n (целое число, n > 1): ");
            string input = Console.ReadLine();     // считываем строку
            bool ok = int.TryParse(input, out n);  // пробуем преобразовать в int

            if (ok) // если строка успешно преобразована в целое число
            {
                if (n > 1) // проверка условия задачи: n должно быть больше 1
                {
                    // Условие выполнено — завершаем ввод и выходим из цикла
                    break;
                }
                else
                {
                    // Введено число, но оно <= 1
                    Console.WriteLine("Ошибка: n должно быть больше 1. Попробуйте ещё раз.");
                }
            }
            else
            {
                // Введённая строка не является числом
                Console.WriteLine("Ошибка: введите целое число. Пример: 5");
            }
        }

        // Вычисление суммы ряда
        // Формула: c = 1/1! + 1/2! + 1/3! + ... + 1/n!
        // Факториал вычисляем последовательно: fact *= k

        for (int k = 1; k <= n; k++)
        {
            fact *= k;              // накапливаем факториал (k!)
            double term = 1.0 / fact; // вычисляем очередной член ряда 1/k!
            c += term;              // прибавляем его к сумме

            // Дополнительный вывод для наглядности
            Console.WriteLine($"k = {k}, {k}! = {fact}, 1/{k}! = {term:F9}, текущая сумма = {c:F9}");
        }

        // Вывод окончательного результата

        Console.WriteLine();
        Console.WriteLine($"Сумма ряда из 1..{n}! равна: {c:F9}");

        Console.ReadKey(true);
    }
}
